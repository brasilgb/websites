import{r as v,q as j,W as y,j as e,y as N}from"./app-dSnkZySU.js";import{B as k,S as C}from"./index-BfQy2-GG.js";import{C as F,a as B,b as S,c as n,d as _,e as w}from"./index-CGnxLjse.js";import{F as E}from"./index-qdqtQszX.js";import{H as D,T as M,B as V}from"./index-D-n7oRv4.js";import{A}from"./AuthenticatedLayout-DapxW875.js";import{m as d,a as c}from"./index-BRaH1Vhi.js";import{E as H}from"./Editor-BbPVRQLw.js";import{d as P}from"./index-BM-pB_iv.js";import{S as R}from"./react-select.esm-U86whRif.js";import"./index-CwlLwxx8.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-DtdRauoR.js";const Y=({product:t,categories:m,productCategory:u})=>{const i=v.useRef(),{flash:x}=j().props,f=u.map(a=>({value:a.id,label:a.name})),b=m.map(a=>({value:a.id,label:a.name})),{data:l,setData:s,patch:T,processing:h,errors:r}=y({brand:t.brand,title:t.title,summary:t.summary,content:t.content,category_id:[],featured:t.featured,valnormal:t.valnormal,valpromo:t.valpromo,prodfeatured:t.prodfeatured,active:t.active,social:t.social,linked:t.linked,type:t.type});function p(a){a.preventDefault(),N.post(`/admin/products/${t.id}`,{_method:"put",brand:l.brand,title:l.title,summary:l.summary,content:l.content,category_id:l.category_id,featured:l.featured,valnormal:c(l.valnormal),valpromo:c(l.valpromo),prodfeatured:l.prodfeatured,active:l.active,social:l.social,linked:l.linked,type:l.type})}const g=a=>{s("category_id",a.map(o=>o.value))};return e.jsx(A,{children:e.jsxs(F,{children:[e.jsxs(D,{children:[e.jsxs(M,{children:[e.jsx(P,{size:30}),e.jsx("span",{className:"ml-2",children:"Produtos"})]}),e.jsx(V,{links:[{url:route("products.index"),label:"Produtos"},{url:null,label:"Editar produto"}]})]}),e.jsxs(B,{children:[e.jsx(E,{message:x}),e.jsxs(S,{children:[e.jsx(n,{children:e.jsx(k,{url:route("products.index"),label:"Voltar"})}),e.jsx(n,{children:e.jsx(e.Fragment,{})})]}),e.jsx("form",{onSubmit:p,autoComplete:"off",children:e.jsxs(_,{className:" border-y border-gray-100",children:[e.jsxs("div",{className:"mt-4 px-3 my-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"title",children:"Marca do produto"}),e.jsx("input",{id:"brand",type:"text",value:l.brand,onChange:a=>s("brand",a.target.value),className:"input-form"}),r.brand&&e.jsx("div",{className:"text-red-500",children:r.brand})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"title",children:"Nome do produto"}),e.jsx("input",{id:"title",type:"text",value:l.title,onChange:a=>s("title",a.target.value),className:"input-form"}),r.title&&e.jsx("div",{className:"text-red-500",children:r.title})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"summary",children:"Detalhes"}),e.jsx("textarea",{id:"summary",value:l.summary,onChange:a=>s("summary",a.target.value),className:"input-form"}),r.summary&&e.jsx("div",{className:"text-red-500",children:r.summary})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"content",children:"Descrição completa"}),e.jsx(H,{apiKey:"7sutxbbo4bpajl4d3vp8gajm3x9y26c1g6ruq3mngukohyb1",onInit:(a,o)=>i.current=o,initialValue:l.content,onChange:()=>{var a;return s("content",(a=i.current)==null?void 0:a.getContent())},id:"content",init:{language:"pt_BR",height:300,menubar:!1,plugins:"autolink lists link charmap print preview anchor image",toolbar:"undo redo link bold italic image alignleft aligncenter alignright alignjustify  bullist numlist outdent indent"}}),r.content&&e.jsx("div",{className:"text-red-500",children:r.content})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"featured",children:"Imagem destacada"}),e.jsx("input",{id:"featured",type:"file",onChange:a=>s("featured",a.target.files[0]),className:`block w-full text-base text-gray-600
                                            file:mr-4 file:py-2.5 file:px-4 file:rounded-l-md
                                            file:border-0 file:text-sm file:font-semibold
                                            file:bg-blue-700 file:text-gray-50 file:cursor-pointer
                                            hover:file:bg-blue-600 border border-gray-300 rounded-md bg-transparent`}),r.featured&&e.jsx("div",{className:"text-red-500",children:r.featured})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"title",children:"Categorias"}),e.jsx(R,{options:b,isMulti:!0,defaultValue:f,onChange:g,placeholder:"Selecione a(s) categoria(s)",styles:{multiValueLabel:a=>({...a,backgroundColor:"#00AEEF",color:"white"})}}),r.category_id&&e.jsx("div",{className:"text-red-500",children:r.category_id})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"valnormal",children:"Valor venda"}),e.jsx("input",{id:"valnormal",type:"text",value:d(l.valnormal),onChange:a=>s("valnormal",a.target.value),className:"input-form"}),r.valnormal&&e.jsx("div",{className:"text-red-500",children:r.valnormal})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"valpromo",children:"Valor com deconto"}),e.jsx("input",{id:"valpromo",type:"text",value:d(l.valpromo),onChange:a=>s("valpromo",a.target.value),className:"input-form"}),r.valpromo&&e.jsx("div",{className:"text-red-500",children:r.valpromo})]})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"prodfeatured",checked:l.prodfeatured,onChange:a=>s("prodfeatured",a.target.checked),className:"block mr-2 p-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring"}),e.jsx("label",{className:"label-form",htmlFor:"prodfeatured",children:"Produto destacado"})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"active",checked:l.active,onChange:a=>s("active",a.target.checked),className:"block mr-2 p-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring"}),e.jsx("label",{className:"label-form",htmlFor:"active",children:"Ativar produto"})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"linked",checked:l.linked,onChange:a=>s("linked",a.target.checked),className:"block mr-2 p-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring"}),e.jsx("label",{className:"label-form",htmlFor:"linked",children:"Abrir em outra página"})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"social",checked:l.social,onChange:a=>s("social",a.target.checked),className:"block mr-2 p-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring"}),e.jsx("label",{className:"label-form",htmlFor:"social",children:"Botões redes sociais"})]})]}),e.jsx(w,{className:"border-t border-gray-100",children:e.jsx(C,{processing:h})})]})})]})]})})};export{Y as default};
