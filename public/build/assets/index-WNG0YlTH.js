import{q as g,j as s,a as p,r as n,d as A}from"./app-UEcICc6w.js";import{m as f}from"./index-BRaH1Vhi.js";import{v as D,j as R,y as F}from"./index-l362urri.js";import{d as M}from"./index-DcKQKc1f.js";import{H as u}from"./HeaderSection-naFSE_oq.js";import{b as E,c as O}from"./index-B7szyASK.js";const T=({product:e})=>{var m;const{datasite:c}=g().props;return s.jsxs("div",{className:"relative bg-white shadow-md rounded-md duration-500 hover:shadow-xl ",children:[s.jsx("img",{src:`/storage/uploads/${e==null?void 0:e.featured}`,alt:"Product",className:" object-cover rounded-t-md"}),s.jsxs("div",{className:"px-4 py-3",children:[s.jsx("span",{className:"text-gray-400 mr-3 uppercase text-xs",children:e==null?void 0:e.brand}),s.jsx("p",{className:"text-sm font-bold text-black truncate block capitalize",children:e==null?void 0:e.title}),s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex items-center justify-end w-full pb-2",children:[(e==null?void 0:e.valnormal)&&!(e!=null&&e.valpromo)&&s.jsxs("p",{className:"text:base md:text-lg font-semibold text-megb-blue-secundary cursor-auto",children:["R$ ",f(e==null?void 0:e.valnormal)]}),(e==null?void 0:e.valnormal)&&(e==null?void 0:e.valpromo)&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-lg font-semibold text-megb-blue-secundary cursor-auto",children:["R$ ",f(e==null?void 0:e.valpromo)]}),s.jsx("del",{children:s.jsxs("p",{className:"text-sm text-megb-red-primary cursor-auto ml-2",children:["R$ ",f(e==null?void 0:e.valnormal)]})})]})]})}),s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx(p,{className:"flex items-center justify-center gap-1 px-3 py-1 text-white bg-megb-red-primary hover:bg-megb-red-primary/80 transition-colors duration-300 text-sm font-semibold border border-megb-red-primary/20 rounded-md shadow-md",href:route("products.getproducts",e==null?void 0:e.slug),children:"Detalhes"}),s.jsx("a",{href:`https://wa.me/${(m=c.config)==null?void 0:m.whatsapp}?text=Quero informações sobre ${e==null?void 0:e.title}`,target:"_blank",className:"flex justify-end text-color bottom-2 right-2 text-[#25D366] hover:text-[#25D366]/90",children:s.jsx(D,{size:30})})]})]})]})},G=({data:e,datacat:c})=>{var y,N;const{url:m}=g(),{datasite:d}=g().props,[l,o]=n.useState([]),[i,j]=n.useState(10),[w,b]=n.useState("Carregar Mais"),[v,I]=n.useState(!1),[h,z]=n.useState(!1),C=(y=d==null?void 0:d.allcat)==null?void 0:y.filter(a=>{var t,r;return a.id===((r=(t=e[0])==null?void 0:t.pivot)==null?void 0:r.category_id)});console.log("pivo",c);const x=10,S=()=>{i<e.length?j(i+x):j(x)};n.useEffect(()=>{e==null||e.filter((a,t)=>t<i).sort((a,t)=>a.title>t.title?1:-1),o(e),i<e.length?b("Carregar Mais"):b("Carregar Menos")},[e,i,x]);const $=()=>{if(I(a=>!a),v){const a=l.sort((t,r)=>t.title>r.title?1:-1);o(a)}else{const a=l.sort((t,r)=>t.title<r.title?1:-1);o(a)}},P=async a=>{const t=a.target.value;t==""?o([]):(await A.get(`products/search?product=${t}`).then(r=>{const k=r.data.response.products;o(k)}).catch(r=>{console.log(r)}).finally(()=>{console.log("fim")}),z(!0))};return s.jsxs("section",{className:"px-4 py-8 bg-gray-50",children:[s.jsxs("div",{className:"container m-auto mb-4 flex items-center justify-start",children:[s.jsx("div",{className:"flex items-center justify-start flex-1",children:s.jsxs("button",{className:"flex items-center justify-start md:gap-4 w-auto",onClick:()=>$(),children:[s.jsx("div",{className:"text-xs font-semibold uppercase hidden md:block",children:"Ordenar"}),s.jsx("div",{children:v?s.jsx(E,{size:20}):s.jsx(O,{size:20})})]})}),s.jsx("div",{className:"",children:s.jsxs("div",{className:"relative text-gray-500",children:[s.jsx("input",{className:"input-form md:w-72",type:"text",placeholder:"Buscar produto",onChange:P}),s.jsx(R,{size:22,className:"absolute top-2.5 right-2.5"}),h&&s.jsx(p,{href:"/produtos",children:s.jsx(F,{size:22,className:"absolute top-2.5 right-10"})})]})})]}),s.jsxs("div",{className:"container mx-auto",children:[h?s.jsx(u,{title:`Produtos encontrados ${l.length}`}):s.jsx(u,{title:m.split("/")[3]?(N=C[0])==null?void 0:N.name:"Produtos"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:l==null?void 0:l.map((a,t)=>s.jsx("div",{"data-aos":"zoom-in",children:s.jsx(T,{product:a})},t))}),!h&&e.length>x&&s.jsxs("div",{className:"mt-4 flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"pb-2 text-sm font-semibold text-gray-500",children:[l.length," produtos de ",e.length]}),s.jsxs("button",{className:"flex items-center justify-center gap-1 px-3 py-1 text-white bg-megb-red-primary hover:bg-megb-red-primary/80 transition-colors duration-300 text-sm font-semibold border border-megb-red-primary/20 rounded-md shadow-md",onClick:()=>S(),type:"button",children:[s.jsx("span",{className:`hover:rotate-0 ${i<e.length?"rotate-0":"-rotate-180"} transition-all duration-300`,children:s.jsx(M,{size:25})}),s.jsx("span",{children:w})]})]})]})]})};export{G as P};
