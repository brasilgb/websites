import{r as g,q as p,W as j,j as e,y}from"./app-DD2sFjte.js";import{B as v,S as N}from"./index-Bnw2w73M.js";import{C as k,a as C,b as F,c as n,d as B,e as S}from"./index-CCU1U2Kd.js";import{F as _}from"./index-pyCKGLjY.js";import{H as E,T as w,B as T}from"./index-CiTsdCpg.js";import{A}from"./AuthenticatedLayout-BSDWBM7e.js";import{E as D}from"./Editor-C8U2FFla.js";import{b as R}from"./index-BhrNgtI7.js";import{S as H}from"./react-select.esm-DQa7cArk.js";import"./index-DJvUNEne.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-BOKOzMLE.js";const O=({post:r,categories:c,postCategory:d})=>{const o=g.useRef(),{flash:m}=p().props,u=d.map(a=>({value:a.id,label:a.name})),x=c.map(a=>({value:a.id,label:a.name})),{data:l,setData:s,patch:V,processing:f,errors:t}=j({title:r.title,summary:r.summary,content:r.content,category_id:[],featured:r.featured,active:r.active,social:r.social,url:r.url,linked:r.linked,type:r.type});function h(a){a.preventDefault(),y.post(`/admin/posts/${r.id}`,{_method:"put",title:l.title,summary:l.summary,content:l.content,category_id:l.category_id,featured:l.featured,active:l.active,social:l.social,url:l.url,linked:l.linked,type:l.type})}const b=a=>{s("category_id",a.map(i=>i.value))};return e.jsx(A,{children:e.jsxs(k,{children:[e.jsxs(E,{children:[e.jsxs(w,{children:[e.jsx(R,{size:30}),e.jsx("span",{className:"ml-2",children:"Postagens"})]}),e.jsx(T,{links:[{url:route("posts.index"),label:"Postagens"},{url:null,label:"Editar postagem"}]})]}),e.jsxs(C,{children:[e.jsx(_,{message:m}),e.jsxs(F,{children:[e.jsx(n,{children:e.jsx(v,{url:route("posts.index"),label:"Voltar"})}),e.jsx(n,{children:e.jsx(e.Fragment,{})})]}),e.jsx("form",{onSubmit:h,autoComplete:"off",children:e.jsxs(B,{className:" border-y border-gray-100",children:[e.jsxs("div",{className:"mt-4 px-3 my-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"title",children:"Título"}),e.jsx("input",{id:"title",type:"text",value:l.title,onChange:a=>s("title",a.target.value),className:"input-form"}),t.title&&e.jsx("div",{className:"text-red-500",children:t.title})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"summary",children:"Descrição"}),e.jsx("textarea",{id:"summary",value:l.summary,onChange:a=>s("summary",a.target.value),className:"input-form"}),t.summary&&e.jsx("div",{className:"text-red-500",children:t.summary})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"content",children:"Conteúdo"}),e.jsx(D,{apiKey:"7sutxbbo4bpajl4d3vp8gajm3x9y26c1g6ruq3mngukohyb1",onInit:(a,i)=>o.current=i,initialValue:l.content,onChange:()=>{var a;return s("content",(a=o.current)==null?void 0:a.getContent())},id:"content",init:{language:"pt_BR",height:300,menubar:!1,plugins:"autolink lists link charmap print preview anchor image",toolbar:"undo redo h1 h2 link bold italic image alignleft aligncenter alignright alignjustify  bullist numlist outdent indent"}}),t.content&&e.jsx("div",{className:"text-red-500",children:t.content})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"featured",children:"Imagem destacada"}),e.jsx("input",{id:"featured",type:"file",onChange:a=>s("featured",a.target.files[0]),className:`block w-full text-base text-gray-600
                                            file:mr-4 file:py-2.5 file:px-4 file:rounded-l-md
                                            file:border-0 file:text-sm file:font-semibold
                                            file:bg-blue-700 file:text-gray-50 file:cursor-pointer
                                            hover:file:bg-blue-600 border border-gray-300 rounded-md bg-transparent`}),t.featured&&e.jsx("div",{className:"text-red-500",children:t.featured})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"title",children:"Categorias"}),e.jsx(H,{options:x,isMulti:!0,defaultValue:u,onChange:b,placeholder:"Selecione a(s) categoria(s)",styles:{multiValueLabel:a=>({...a,backgroundColor:"#00AEEF",color:"white"})}}),t.category_id&&e.jsx("div",{className:"text-red-500",children:t.category_id})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{className:"label-form",htmlFor:"url",children:"URL externa"}),e.jsx("input",{id:"url",type:"text",value:l.url,onChange:a=>s("url",a.target.value),className:"input-form placeholder:text-gray-400",placeholder:"https://minhaurl.com.br"}),t.url&&e.jsx("div",{className:"text-red-500",children:t.url})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"active",checked:l.active,onChange:a=>s("active",a.target.checked),className:"block mr-2 p-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring"}),e.jsx("label",{className:"label-form",htmlFor:"active",children:"Ativar postagem"})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"linked",checked:l.linked,onChange:a=>s("linked",a.target.checked),className:"block mr-2 p-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring"}),e.jsx("label",{className:"label-form",htmlFor:"linked",children:"Abrir em outra página"})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"social",checked:l.social,onChange:a=>s("social",a.target.checked),className:"block mr-2 p-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring"}),e.jsx("label",{className:"label-form",htmlFor:"social",children:"Botões redes sociais"})]})]}),e.jsx(S,{className:"border-t border-gray-100",children:e.jsx(N,{processing:f})})]})})]})]})})};export{O as default};
